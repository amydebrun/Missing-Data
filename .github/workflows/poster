---
title: Estimating Treatment Effects in Clinical Trials with Missing Data
author:
  - name: Amy Browne 
    affil: 1
    email: a.browne47@universityofgalway.ie
    main: true
  - name: Kent Yip
    affil: 2
    email: k.yip2@universityofgalway.ie
    main: true
affiliation:
  - num: 1
    address: Unviersity of Galway
  - num: 2
    address: xyz
main_findings:
  - '![](acuplot1.svg){.main_pic}'

output: 
  posterdown::posterdown_betterland:
    self_contained: false
    pandoc_args: --mathjax
    highlight: haddock
    number_sections: false
link-citations: true
bibliography: packages.bib
---

```{r, include=FALSE}
knitr::opts_chunk$set(results = 'asis',
                      echo = FALSE,
                      warning = FALSE,
                      tidy = FALSE,
                      message = FALSE,
                      fig.align = 'center',
                      out.width = "100%")
options(knitr.table.format = "html") 
```
```{r}
library(tidyverse)
library(dplyr)
acupuncture<-read.csv('acupuncture.csv')
acupuncture$sex<-as.factor(acupuncture$sex)
acupuncture$migraine<-as.factor(acupuncture$migraine)
acupuncture$group<-as.factor(acupuncture$group)
pk5_missing<- as.data.frame(pk5_missing)
pk2_missing<- as.data.frame(pk2_missing)
```
```{r acuplot1, include=FALSE}
svg('acuplot1.svg')
ggplot(t1, aes(x = pk2_missing, y = pk5_missing, fill = Freq)) +
  geom_tile() +
  scale_fill_gradient(low = "lightpink", high = "deeppink") +
  labs(title = "Missing Data Pattern: pk2 vs pk5", x = "pk2 Missing", y = "pk5 Missing", fill = "Frequency") +
  theme_minimal()
dev.off()
```

# Introduction

This is the `posterdown_betterland` template for the {posterdown} package! I was inspired by the twitter thread of [Mike Morrison](https://mobile.twitter.com/mikemorrison/status/1110191245035479041) and wanted to apply the `#betterposter` concept to the reproducible (yet simple to use) functionality of the {posterdown} package [@R-posterdown]. If you're not an R user don't sweat as you do **NOT** need to use it at all! Feel free to use only the Markdown functionality of this package :)

```{r, include=FALSE}
knitr::write_bib(c('posterdown', 'rmarkdown','pagedown'), 'packages.bib')
```

# Methods

1. Last Observation Carried Forward
2. Simple Imputation
3. Mean Imputation
4. Indicator Method 
5. Multiple Imputation 

# Datasets 

We will be using these methods on 2 data sets that contain missing data. One set is the results of a clinical trial which aims to test the effect of acupuncture on chronic headache. 
The other set are results from an RCT of the effects of Vitamin D and fish oil on chronic knee pain. 

# Results

Here you may have some figures to show off, bellow I have made a scatterplot with the infamous Iris dataset and I can even reference to the figure automatically like this, `Figure \@ref(fig:irisfigure)`, Figure \@ref(fig:irisfigure).

```{r, irisfigure, fig.cap='Here is a caption for the figure. This can be added by using the "fig.cap" option in the r code chunk options, see this [link](https://yihui.name/knitr/options/#plots) from the legend himself, [Yihui Xie](https://twitter.com/xieyihui).', out.width="80%"}
par(mar=c(2,2,0,1))
plot(x = iris$Sepal.Length, y = iris$Sepal.Width,
     col = iris$Species, pch = 19, xlab = "Sepal Length",
     ylab = "Sepal Width")
```

Maybe you want to show off some of that fancy code you spent so much time on to make that figure, well you can do that too! Just use the `echo=TRUE` option in the r code chunk options, Figure \@ref(fig:myprettycode)!

```{r myprettycode, echo=FALSE,collapse=TRUE, fig.cap='Boxplots, so hot right now!', fig.height=3.5, out.width="80%"}
#trim whitespace
par(mar=c(2,2,0,0))
#plot boxplots
boxplot(iris$Sepal.Width~iris$Species,
        col = "#008080", 
        border = "#0b4545",
        ylab = "Sepal Width (cm)",
        xlab = "Species")
```

How about a neat table of data? See, Table \@ref(tab:iristable):

```{r, iristable}
knitr::kable(
  iris[1:8,1:5], format = "html",
  caption = "A table made with the **knitr::kable** function.",
  align = "c", col.names = c("Sepal <br> Length",
                             "Sepal <br> Width",
                             "Petal <br> Length",
                             "Petal <br> Width",
                             "Species"),
  escape = FALSE)
```

# References
