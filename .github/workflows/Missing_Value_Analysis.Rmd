---
title: "missingness analysis"
author: "Amy, Kent"
date: "2025-02-18"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(mice)
library(tidyverse)
library(haven)
library(lme4)
library(broom.mixed)
library(meta)
library(dplyr)
source("R scripts/Functions.R")
source("R scripts/VITAL data formats.R")
source("R scripts/Acupuncture data formats.R")
source("R scripts/Category time analysis.R")
source("R scripts/Different Imputation Method.R")
```

To do
- Sensitivity Analysis
- Missing Indicator Regression
- Time as continuous and as factor
- Including BMI in Vital
- Workout MM methods
  - Linear regression
  - LR + noise
  - LR + noise + parameter uncertainty
  - two predictor
  - pmm
  - to see what is the pitfall of pmm, use lad, baysian if suit
- Reformat Table
  - Estimate
    - Linear Model
    - LME (Time No/Category/Continue)
  - Missing Method
    - Do Nothing
    - Simple imputation
    - MI
  - Imputation Method
    - TBD


# Category time analysis

```{r}
# Acupuncture result
print(cbind(properties, acu_result))
# Acupuncture plot
acu_plot_categorical
```

```{r}
# Fish oil result
print(cbind(properties, vital_result_oil))
# VitD result
print(cbind(properties, vital_result_vitd))
# VITAL plot
vital_plot_categorical
```

# Different Imputation Method

```{r}
# Acupuncture result
print(acu_impt_result)
# Acupuncture plot
acu_plot_imp
```

```{r}
# Fish oil result
print(vital_impt_result_vitd)
# VitD result
print(vital_impt_result_oil)
# VITAL plot
vital_plot_impt
```